<div *ngIf="accountHistoricalValuesToShow.length">

  <h2>Account Historical Values</h2>

  <mat-checkbox (change)="recordedOnly($event)">Only show with recorded values</mat-checkbox>
  <mat-checkbox (change)="bigDifferenceOnly($event)">Only show with big difference from previous</mat-checkbox>

  <table mat-table [dataSource]="accountHistoricalValuesToShow">

    <ng-container matColumnDef="date">
      <th class="date-column" mat-header-cell *matHeaderCellDef>Date</th>
      <td class="date-column" mat-cell *matCellDef="let element">{{element.date}}</td>
    </ng-container>

    <ng-container matColumnDef="accountCode">
      <th class="account-column" mat-header-cell *matHeaderCellDef>Account Code</th>
      <td class="account-column" mat-cell *matCellDef="let element">{{element.accountCode}}</td>
    </ng-container>

    <ng-container matColumnDef="valueInGbp">
      <th class="value-column" mat-header-cell *matHeaderCellDef>Value </th>
      <td class="value-column" mat-cell *matCellDef="let element">{{ element.valueInGbp | number: '1.2' }}</td>
    </ng-container>

    <ng-container matColumnDef="totalPriceAgeInDays">
      <th class="price-age-column" mat-header-cell *matHeaderCellDef>Price Age (days)</th>
      <td class="price-age-column" mat-cell *matCellDef="let element">{{element.totalPriceAgeInDays}}</td>
    </ng-container>

    <ng-container matColumnDef="recordedTotalValueInGbp">
      <th class="value-column" mat-header-cell *matHeaderCellDef>Recorded Value</th>
      <td class="value-column" mat-cell *matCellDef="let element">{{ element.recordedTotalValueInGbp | number: '1.2' }}</td>
    </ng-container>

    <ng-container matColumnDef="recordedTotalValueSource">
      <th class="value-column" mat-header-cell *matHeaderCellDef>Recorded Value Source</th>
      <td class="value-column" mat-cell *matCellDef="let element">{{ element.recordedTotalValueSource }}</td>
    </ng-container>

    <ng-container matColumnDef="discrepancyPercentage">
      <th class="percentage-column" mat-header-cell *matHeaderCellDef>Discrepancy</th>
      <td class="percentage-column" mat-cell *matCellDef="let element">{{ element.discrepancyPercentage | number: '1.2' }}</td>
    </ng-container>

    <ng-container matColumnDef="differenceToPreviousDay">
      <th class="value-column" mat-header-cell *matHeaderCellDef>Difference</th>
      <td class="value-column" mat-cell *matCellDef="let element">{{ element.differenceToPreviousDay | number: '1.2' }}</td>
    </ng-container>

    <ng-container matColumnDef="differencePercentage">
      <th class="percentage-column" mat-header-cell *matHeaderCellDef>Difference %</th>
      <td class="percentage-column" mat-cell *matCellDef="let element">{{ element.differencePercentage | number: '1.2' }}</td>
    </ng-container>

    <ng-container matColumnDef="comment">
      <th class="column" mat-header-cell *matHeaderCellDef>Comment</th>
      <td class="column" mat-cell *matCellDef="let element">{{ element.comment }}</td>
    </ng-container>

    <ng-container matColumnDef="controls">
      <th class="column" mat-header-cell *matHeaderCellDef>Controls</th>
      <td class="column" mat-cell *matCellDef="let element">

<button type="button" (click)="selectDate(element.date)">Select</button>



      </td>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

  </table>
</div>
