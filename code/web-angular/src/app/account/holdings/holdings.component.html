<div class="light flex flex-col p-6">
  <!-- extract this into a header component -->

  <app-header>
    {{ portfolio?.accountCode}}
  </app-header>

  <!-- <div class="flex w-full items-center justify-between px-2">
    <h1 class="font-heading font-mono text-2xl font-bold tracking-tight">
      {{ portfolio?.accountCode }}
    </h1>
  </div> -->

  <div *ngIf="portfolio">

    <!-- add sort icons -->

    <div>
      <h3 class="py-4 text-lg font-bold">Holdings</h3>

      <!-- card -->
      <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
        <!-- card header -->
        <div class="grid grid-cols-6 gap-4 p-6">
          <div class="col-span-2 text-left font-medium text-gray-600" (click)="sort('stockSymbol')">Stock</div>
          <div class="text-right font-medium text-gray-600" (click)="sort('quantity')">Quantity</div>
          <div class="text-right font-medium text-gray-600" (click)="sort('price')">Price</div>
          <div class="text-right font-medium text-gray-600" (click)="sort('valueInGbp')"  >Value</div>
          <div class="text-right font-medium text-gray-600"></div>
        </div>
        <!-- separator -->

        <!-- card content -->

        <div class="pt-0 p-0">
          <div
            *ngFor="let holding of portfolio.holdings"
            class="grid grid-cols-6 gap-4 border-b p-4">

            <div class="col-span-2 flex-grow text-left">
              <p class="mb-1 font-bold">{{ holding.stockSymbol }}</p>
              <p class="text-sm">{{ holding.stockDescription }}</p>
            </div>

            <div class="flex-grow text-right">
              <p class="text-sm">{{ formatQuantity(holding.quantity) }}</p>
            </div>

            <div class="flex-grow text-right">
              <p class="text-sm">{{ formatCurrency(holding.price) }}</p>
              <p class="text-sm text-gray-600">{{holding.currency}}</p>
              <p class="text-xs">{{ holding.priceAgeInDays }} days old</p>
            </div>

            <div class="flex-grow text-right">
              <p class="text-sm">{{ formatCurrency(holding.valueInGbp) }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
