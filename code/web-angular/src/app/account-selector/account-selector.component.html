<form [formGroup]="accountSelectorForm">
  <div class="flex flex-col gap-2">
    @for (account of accounts; track account) {
    <div class="flex items-center">
      <label class="flex items-center gap-2 cursor-pointer select-none">
        @if (multiSelectMode) {
        <input type="checkbox" [formControlName]="'chk_' + account.accountCode" (change)="onAccountChanged(account.accountCode, $event)" class="m-0">
        } @else {
        <input type="radio" name="rad_selectedAccount" [value]="account.accountCode" formControlName="rad_selectedAccount" (change)="onAccountChanged(account.accountCode, $event)" class="m-0">
        }
        <span>{{ account.accountCode }}</span>
      </label>
    </div>
    }
    <div class="mt-3">
      <button type="button" (click)="applyChanges()" [disabled]="!hasChanges" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors">
        Apply Changes
      </button>
    </div>
  </div>
</form>
